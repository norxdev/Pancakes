<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlipMaster OSRS</title>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MZKESVVFTT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-MZKESVVFTT');
</script>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Donate Button -->
<div class="donate-header">
    <a href="https://www.paypal.com/donate/?hosted_button_id=YVZNTWZP8JUCC" target="_blank" class="donate-btn">
        Donate via PayPal
    </a>
</div>

<h1>FlipMaster OSRS</h1>

<!-- Toggle Buttons -->
<div class="toggle-buttons" style="margin-bottom:15px;">
    <button id="armorBtn" class="active">Armor Flips</button>
    <button id="potionBtn">Potion Flips</button>
</div>

<!-- Collapsible Summary Section -->
<div class="summary-wrapper">
    <button id="toggleSummary" class="toggle-summary-btn">Hide Summary ▲</button>
    <div id="armorSummary" style="display:block;"></div>
    <div id="potionSummary" style="display:none;"></div>
</div>

<!-- Last Refreshed -->
<div id="lastRefreshed" style="margin-top:10px; font-style:italic;">Last Refreshed: --</div>

<!-- Sections -->
<div class="container">
    <div id="armorSection" data-mode="armor"></div>
    <div id="potionSection" data-mode="potion" style="display:none;"></div>
</div>

<!-- Footer -->
<footer style="margin-top:20px; text-align:center;">OSRS Flipping Dashboard &copy; 2025 — Powered by Norxdev</footer>

<!-- JS Files -->
<script src="itemid.js"></script> <!-- contains armorSetsData & potionData -->
<script src="script.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const armorBtn = document.getElementById("armorBtn");
    const potionBtn = document.getElementById("potionBtn");
    const toggleBtn = document.getElementById("toggleSummary");
    const armorSummary = document.getElementById("armorSummary");
    const potionSummary = document.getElementById("potionSummary");

    function showArmor() {
        armorBtn.classList.add("active");
        potionBtn.classList.remove("active");
        document.getElementById("armorSection").style.display = "block";
        document.getElementById("potionSection").style.display = "none";
        armorSummary.style.display = toggleBtn.dataset.hidden === "true" ? "none" : "block";
        potionSummary.style.display = "none";
        showArmorFlips();
    }

    function showPotion() {
        potionBtn.classList.add("active");
        armorBtn.classList.remove("active");
        document.getElementById("armorSection").style.display = "none";
        document.getElementById("potionSection").style.display = "block";
        potionSummary.style.display = toggleBtn.dataset.hidden === "true" ? "none" : "block";
        armorSummary.style.display = "none";
        showPotionFlips();
    }

    armorBtn.addEventListener("click", showArmor);
    potionBtn.addEventListener("click", showPotion);

    toggleBtn.dataset.hidden = "false";
    toggleBtn.addEventListener("click", () => {
        const isHidden = toggleBtn.dataset.hidden === "true";
        toggleBtn.dataset.hidden = isHidden ? "false" : "true";
        toggleBtn.textContent = isHidden ? "Hide Summary ▲" : "Show Summary ▼";

        // Only toggle the currently visible summary
        if (armorBtn.classList.contains("active")) {
            armorSummary.style.display = isHidden ? "block" : "none";
        } else if (potionBtn.classList.contains("active")) {
            potionSummary.style.display = isHidden ? "block" : "none";
        }
    });
});
</script>

</body>
</html>
